;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  Polybar  –  ABRA top bar  –  Catppuccin Macchiato theme  ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
[colors]
bg          = #24273a
fg          = #cad3f5
fg-alt      = #a5adcb
accent      = #ed8796
yellow      = #eed49f
green       = #a6da95
blue        = #8aadf4

[bar/topbar]
width              = 100%
height             = 28
radius             = 0
fixed-center       = true
background         = ${colors.bg}
foreground         = ${colors.fg}
font-0             = "JetBrainsMono Nerd Font:size=10;3"
enable-ipc         = true

modules-left       = workspaces
modules-center     = title
modules-right      = updates memory cpu temp gpu_tail nettail battery clock

;;;;;;;;;;;;;;;;;;;;;;  MODULES  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[module/workspaces]
type       = internal/i3
format     = <label-state>
index-sort = true
strip-wsnumbers = true
label-padding  = 1
label-focused          = %icon%
label-focused-foreground = ${colors.yellow}
label-unfocused        = %icon%
label-unfocused-foreground = ${colors.fg-alt}

ws-icon-0 = "1:  "; ""
ws-icon-1 = "2:  "; ""
ws-icon-2 = "3:  "; ""
ws-icon-3 = "4:  "; ""
ws-icon-4 = "5:  "; ""
ws-icon-default = ""

[module/title]
type  = internal/xwindow
label = %title%
maxlen = 60
ellipsis = true

[module/clock]
type  = internal/date
interval = 30
date  =   %H:%M    %a %d %b

[module/cpu]
type   = internal/cpu
format =   <total>%  
interval = 2
format-foreground = ${colors.green}

[module/memory]
type   = internal/memory
format =   <used>%  
interval = 5
format-foreground = ${colors.blue}

[module/temp]
type           = internal/temperature
thermal-zone   = 0
warn-temperature = 80
format         =   <temperature>°C
format-warn    =   <temperature>°C !
format-warn-foreground = ${colors.accent}

[module/gpu_tail]
type        = internal/nvidia
label       =   <utilization>% <temperature>°C
interval    = 3
format-foreground = ${colors.fg}

[module/nettail]
type               = internal/network
interface          = enp3s0
interval           = 2
format-connected   =   <download:bytes>  祝  <upload:bytes>
format-disconnected = 

[module/battery]
type            = internal/battery
battery         = BAT0
adapter         = AC
full-at         = 98
format-charging =   <percentage>%
format-discharging =   <percentage>%
format-full     = 
poll-interval   = 30
format-foreground = ${colors.fg-alt}

[module/updates]
type              = custom/script
exec              = checkupdates | wc -l
interval          = 1800
label             =   %output%
label-foreground  = ${colors.accent}
click-left        = kitty --title updates -e sudo pacman -Syu
